(function(){"use strict";const $=function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),O=function(e){return"/"+e},M={},f=function(t,n,r){let o=Promise.resolve();function s(a){const i=new Event("vite:preloadError",{cancelable:!0});if(i.payload=a,window.dispatchEvent(i),!i.defaultPrevented)throw a}return o.then(a=>{for(const i of a||[])i.status==="rejected"&&s(i.reason);return t().catch(s)})};function h(e){g(e,"form",t=>t.onsubmit=()=>!1)}function g(e,t,n){Array.from(document.querySelectorAll(e)).map(r=>r.closest(t)??r.querySelector(t)).filter((r,o,s)=>!!r&&s.indexOf(r)===o).forEach(n)}async function d(e,t="module"){return new Promise(n=>{const r=document.createElement("script");r.type=t,r.src=e,r.onload=n,document.head.appendChild(r)})}async function y(e){return new Promise(t=>document.addEventListener(e,t))}function w(e,t){try{if(new URL(e).searchParams.has("ga")){const r=e.split("/").slice(0,-2).join("/");f(()=>import(`${r}/ga.js`),void 0).then(o=>{o.setupGoogleAnalyticsReporting(t)})}}catch{}}async function v(e,t,n={css:{variables:{}}}){await d("https://augmented-search-widget.pages.dev/index.js");const r=e==="8be2f2b0-105e-42b9-a466-7c950de37b63";await window.augmentedSearchWidget?.setConfig({lang:r?t.split("-")[0]:t,instance:r?"mymotivemarketplace":"motive",extraHeaders:{"X-Engine-Id":e},...r&&{extraParams:{store:"pharmacius"}},messages:{es:{launcherButton:{floatingText:"Recomendador de productos"}}}}),window.addEventListener("augmented-search-widget:click:query",i=>{const c=i.detail.query;window.InterfaceX.search(c),window.augmentedSearchWidget?.toggle?.(!1)}),await window.augmentedSearchWidget?.mount?.();const o=document.querySelector("#augmented-search-widget-container"),s=n.css.variables["--mot-color-brand-primary-rgb"],a=n.css.variables["--mot-color-brand-secondary-rgb"];o&&(s&&o.style.setProperty("--color-primary",`rgb(${s})`),a&&o.style.setProperty("--color-secondary",`rgb(${a})`))}const P="https://assets.motive.co/motive-x/v2/app.js",l=["click","input","pointerdown","touchstart","mousedown"],b="#motive-container, #motive-x";function E(e){function t(n){if(!(!(n.target instanceof Element)||!n.target.closest(e.triggerSelector)||n.target.closest(b))){n.target instanceof HTMLInputElement?(window.InterfaceX?.search(n.target.value),n.target.value=""):window.InterfaceX?.search();try{n.cancelable&&n.preventDefault(),e.isolated&&n.stopImmediatePropagation()}catch{}}}return l.forEach(n=>document.addEventListener(n,t,!0)),function(){l.forEach(r=>document.removeEventListener(r,t,!0))}}async function S(e,t,n){await d("https://assets.motive.co/wysiwyg/wysiwyg.js"),await window.wysiwyg?.setConfig({auth:{baseUrl:"https://iam.motive.co",clientId:"wysiwyg"},analytics:{baseUrl:"https://statistics.api.motive.co"},catalog:{baseUrl:"https://analytics.api.motive.co"},search:{baseUrl:"https://search-platform.motive.co"},beacon:{baseUrl:"https://beacon.api.motive.co"},...n&&{chatBot:{baseUrl:"https://mcp-client-assistant.prod.empathy.co"}},tagging:{baseUrl:"https://tagging-playboard.api.motive.co"},instance:e,lang:t,playboardUrl:"https://playboard.motive.co",audience:"sme",appContainerSelector:"#motive-container",searchLayerSelector:"#motive-x"})}function C(e){const t=document.createElement("meta");t.id="motive_cart_info",t.dataset.productsCount="0",document.head.appendChild(t),document.addEventListener("DOMContentLoaded",()=>{typeof jQuery>"u"||jQuery(document.body).on("wc_fragments_loaded",()=>{jQuery(document.body).trigger("wc_fragment_refresh")})}),e.initParams.callbacks={UserClickedResultAddToCart:_,CartHandlerGettingCartInfo:L}}function L(){return{productsCount:+(motive_cart_info.dataset.productsCount??0)}}async function _(e,t={}){const n=e.url??e.variants?.find(o=>o.url)?.url;if(!n)return;const r=new FormData;r.append("quantity",`${t?.quantity??1}`),r.append("add-to-cart",e.id),e.variantId&&(r.append("variation_id",e.variantId),r.append("product_id",e.id)),await fetch(n,{method:"POST",body:r}),motive_cart_info.dataset.productsCount=`${+(motive_cart_info.dataset.productsCount??0)+1}`,typeof jQuery<"u"&&jQuery(document.body).trigger("wc_fragment_refresh")}const k=e=>e.map(({id:t,variants:n})=>n?{id:t,variants:n.map(({variantId:r})=>({id:r}))}:{id:t});function I(e){return e.forEach(t=>{t.variants?.forEach(n=>{n.id&&!n.variantId&&(n.variantId=n.id,n.id=t.id)})}),e}let u=1,p=1;function j(e){if(!e.options.shopperPrices)return;e.initParams.callbacks??={},e.initParams.callbacks.AppendedResultsChanged=r,e.initParams.callbacks.RecommendationsChanged=r,e.initParams.callbacks.QueriesPreviewChanged=o,e.initParams.transformPriceRange=(s,a)=>[s*u,a*p];const t=e.options.shopperPricesEndpointMethod??"POST",n=new URL(e.endpoints.shopperPrices);n.searchParams.append("nonce",e.nonce),n.searchParams.append("action","price_rates"),fetch(n,{method:t}).then(async s=>{[u,p]=await s.json()});async function r(s){const a=new URL(e.endpoints.shopperPrices);a.searchParams.append("nonce",e.nonce);const c=await(await fetch(a,{method:t,body:JSON.stringify(k(s))})).json();return I(c)}async function o(s){const a={};for(const[i,c]of Object.entries(s))a[i]={...c,results:await r(c.results)};return a}}const U=[];async function R(){const e=document.currentScript?.src,t=await A();t?.initParams?.triggerSelector&&t?.initParams?.xEngineId&&(E(t.initParams),document.addEventListener("motive-x:customization",n=>{const r=n;U.includes(t.initParams.xEngineId)&&v(t.initParams.xEngineId,t.initParams.lang,r.detail),S(t.initParams.xEngineId,t.initParams.lang,r.detail.features.aiOverview.display)},{once:!0}),await x(t),w(e,t.initParams.currency))}async function x(e){e.initParams.externalOpen=!0,e.initParams.variantAddToCart="MULTIPLE",C(e),j(e),window.initX=function(){return h(e.initParams.triggerSelector),e.initParams};const t=document.querySelector("#motive-layer-js")?.href;await d(t??P)}async function A(){if(typeof motive<"u"||(await y("DOMContentLoaded"),typeof motive<"u"))return motive;const e=document.querySelector("#motive-config-url")?.href??"";return e?await(await fetch(e,{method:"GET",credentials:"include",mode:"no-cors"})).json():void 0}R()})();
