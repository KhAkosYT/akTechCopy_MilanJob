const E=function(){const t=typeof document<"u"&&document.createElement("link").relList;return t&&t.supports&&t.supports("modulepreload")?"modulepreload":"preload"}(),A=function(e,t){return new URL(e,t).href},p={},a=function(t,n,m){let f=Promise.resolve();if(n&&n.length>0){let g=function(o){return Promise.all(o.map(c=>Promise.resolve(c).then(u=>({status:"fulfilled",value:u}),u=>({status:"rejected",reason:u}))))};const s=document.getElementsByTagName("link"),r=document.querySelector("meta[property=csp-nonce]"),w=r?.nonce||r?.getAttribute("nonce");f=g(n.map(o=>{if(o=A(o,m),o in p)return;p[o]=!0;const c=o.endsWith(".css"),u=c?'[rel="stylesheet"]':"";if(m)for(let l=s.length-1;l>=0;l--){const d=s[l];if(d.href===o&&(!c||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${u}`))return;const i=document.createElement("link");if(i.rel=c?"stylesheet":E,c||(i.as="script"),i.crossOrigin="",i.href=o,w&&i.setAttribute("nonce",w),document.head.appendChild(i),c)return new Promise((l,d)=>{i.addEventListener("load",l),i.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${o}`)))})}))}function _(s){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s}return f.then(s=>{for(const r of s||[])r.status==="rejected"&&_(r.reason);return t().catch(_)})};let h={};function y(){return h}function P(e){h=e}async function v(){document.body.insertAdjacentHTML("beforeend",(await a(async()=>{const{default:t}=await import("./assets/login-animation-C19mPA3E.js");return{default:t}},[],import.meta.url)).default);const e=document.createElement("script");e.type="module",e.textContent=(await a(async()=>{const{default:t}=await import("./assets/login-animation-BGaBQ_p9.js");return{default:t}},[],import.meta.url)).default,document.body.insertAdjacentElement("beforeend",e),await new Promise(t=>setTimeout(t,3500))}async function L(){await v();const{useAuth:e}=await a(async()=>{const{useAuth:t}=await import("./assets/use-auth-sThe92L1.js").then(n=>n.i);return{useAuth:t}},[],import.meta.url);await e().openLoginPage()}async function C(){const e=new URL(window.location.href);if(e.searchParams.get("code")&&e.searchParams.get("state")){const{useAuth:t}=await a(async()=>{const{useAuth:n}=await import("./assets/use-auth-sThe92L1.js").then(m=>m.i);return{useAuth:n}},[],import.meta.url);await t().requestAuth()}else await Promise.reject(new Error("error in requestAuth"))}async function R(){if(localStorage.getItem("wysiwyg-auth"))try{const{isConfigValid:e}=await a(async()=>{const{isConfigValid:n}=await import("./assets/check-config-Kxf7eIh-.js");return{isConfigValid:n}},[],import.meta.url);e(y()),(await a(()=>import("./assets/wysiwyg-layer-PyBoEvEx.js").then(n=>n.C),[],import.meta.url)).openApp()}catch(e){await Promise.reject(e)}}async function T(){localStorage.getItem("wysiwyg-auth")&&(await a(()=>import("./assets/wysiwyg-layer-PyBoEvEx.js").then(t=>t.C),[],import.meta.url)).closeApp()}async function I(e){if(localStorage.getItem("wysiwyg-auth")){const{useContext:t}=await a(async()=>{const{useContext:n}=await import("./assets/use-context-CtWnmASj.js");return{useContext:n}},[],import.meta.url);t().setContext(e)}}const S={close:T,goToLogin:L,open:R,requestAuth:C,setConfig:P,getConfig:y,setContext:I};window.wysiwyg=S;export{a as _,y as g};
